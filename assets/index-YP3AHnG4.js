(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}})();class y{constructor(t=1){this.s=t>>>0}next(){let t=this.s;return t^=t<<13>>>0,t^=t>>>17,t^=t<<5>>>0,this.s=t>>>0,this.s/4294967295}int(t){return Math.floor(this.next()*t)}}function b(){if(typeof crypto<"u"&&"getRandomValues"in crypto){const n=new Uint32Array(1);return crypto.getRandomValues(n),n[0]>>>0}return Math.random()*4294967295>>>0}function p(n){const t=new y(n.seed??b()),e=[];let c=1;const o=new Set,r=(d,i)=>`${d},${i}`,a=(d,i,s)=>Math.min(Math.max(d,i),s);return{blobs:e,addBlob(d,i){const s=a(Math.trunc(d),0,n.width-1),l=a(Math.trunc(i),0,n.height-1),h=r(s,l);o.has(h)||(o.add(h),e.push({id:c++,x:s,y:l}))},addRandomBlobs(d){let i=0;const s=n.width*n.height,l=Math.min(d,s);for(;i<l;){const h=t.int(n.width),u=t.int(n.height),f=r(h,u);o.has(f)||(o.add(f),e.push({id:c++,x:h,y:u}),i++)}}}}async function w(n,t){const e=p(n);return t!=null&&t.beforeSimStart&&await t.beforeSimStart({cfg:n,state:e}),t!=null&&t.afterSimStart&&await t.afterSimStart({cfg:n,state:e}),{width:n.width,height:n.height,blobs:e.blobs}}function g(n,t){const e=n.getContext("2d"),c=n.width,o=n.height,r=c/t.width,a=o/t.height;e.clearRect(0,0,c,o),e.strokeStyle="#33271d",e.lineWidth=1;for(let i=0;i<=t.width;i++){const s=Math.round(i*r)+.5;e.beginPath(),e.moveTo(s,.5),e.lineTo(s,o+.5),e.stroke()}for(let i=0;i<=t.height;i++){const s=Math.round(i*a)+.5;e.beginPath(),e.moveTo(.5,s),e.lineTo(c+.5,s),e.stroke()}e.fillStyle="#2dd4bf";const d=Math.floor(Math.min(r,a)*.35);for(const i of t.blobs){const s=Math.round((i.x+.5)*r),l=Math.round((i.y+.5)*a);e.beginPath(),e.arc(s,l,d,0,Math.PI*2),e.fill()}}const m=document.getElementById("canvas"),S={width:20,height:30,blobCount:30};function x(n,t){const e=window.devicePixelRatio||1,c=800,o=Math.round(c*(t.height/t.width));n.style.width=c+"px",n.style.height=o+"px",n.width=Math.round(c*e),n.height=Math.round(o*e)}(async()=>{const n=await w(S,{beforeSimStart:({state:t,cfg:e})=>{x(m,e)},afterSimStart:({state:t,cfg:e})=>{t.addRandomBlobs(e.blobCount)}});g(m,n)})();
